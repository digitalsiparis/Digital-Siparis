import React,{useEffect,useState} from "react"; import client from "../api/client"; import type {Order} from "../api/types"; import Protected from "../components/Protected";
export default function AccountPage(){ const [orders,setOrders]=useState<Order[]>([]); useEffect(()=>{(async()=>{const {data}=await client.get("/account/orders"); setOrders(data.data);})()},[]);
  return (<Protected><div className="container"><h1>Hesabım</h1><h3>Siparişlerim</h3>{!orders.length?<p>Sipariş yok.</p>:orders.map(o=>(<div key={o.id} className="card" style={{marginBottom:12}}><div><b>#{o.id}</b> — {new Date(o.created_at).toLocaleString("tr-TR")}</div><div>Durum: {o.status} — Toplam: {o.total.toFixed(2)} ₺</div><ul>{o.items.map(i=><li key={i.product_id}>{i.title} × {i.qty}</li>)}</ul></div>))}</div></Protected>); }
